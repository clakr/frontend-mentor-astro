---
import { Image } from "@astrojs/image/components";
import Footer from "../../components/Footer.astro";
import Layout from "../../layout/Layout.astro";
import star from "/public/social-proof-section/icon-star.svg";
import anne from "/public/social-proof-section/image-anne.jpg";
import colton from "/public/social-proof-section/image-colton.jpg";
import irene from "/public/social-proof-section/image-irene.jpg";

type Rating = {
  description: string;
};

const ratings: Rating[] = [
  {
    description: "Rated 5 Stars in Reviews",
  },
  {
    description: "Rated 5 Stars in Report Guru",
  },
  {
    description: "Rated 5 Stars in BestTech",
  },
];

type Testimonial = {
  image: ImageMetadata;
  name: string;
  title: string;
  description: string;
};

const testimonials: Testimonial[] = [
  {
    image: colton,
    name: "Colton Smith",
    title: "Verified Buyer",
    description:
      "“ We needed the same printed design as the one we had ordered a week prior. Not only did they find the original order, but we also received it in time. Excellent! ”",
  },
  {
    image: irene,
    name: "Irene Roberts",
    title: "Verified Buyer",
    description:
      "“ Customer service is always excellent and very quick turn around. Completely delighted with the simplicity of the purchase and the speed of delivery. ”",
  },
  {
    image: anne,
    name: "Anne Wallace",
    title: "Verified Buyer",
    description:
      "“ Put an order with this company and can only praise them for the very high standard. Will definitely use them again and recommend them to everyone! ”",
  },
];
---

<style lang="scss">
  @import url("https://fonts.googleapis.com/css2?family=League+Spartan:wght@400;500;700&display=swap");
  :root {
    /* Primary */
    --veryDarkMagenta: hsl(300, 43%, 22%);
    --softPink: hsl(333, 80%, 67%);

    /* Neutral */
    --darkGrayishMagenta: hsl(303, 10%, 53%);
    --lightGrayishMagenta: hsl(300, 24%, 96%);
    --white: hsl(0, 0%, 100%);

    --baseFont: "League Spartan", sans-serif;

    background-color: var(--white);
    font-family: var(--baseFont);
  }

  body {
    background-image: url("../social-proof-section/bg-pattern-top-mobile.svg"),
      url("../social-proof-section/bg-pattern-bottom-mobile.svg");
    background-position: top, bottom center;
    background-size: contain, 100%;
    background-repeat: no-repeat;
  }

  h1 {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  main {
    min-height: 100vh;
    min-height: 100svh;

    padding: 8.2rem 2.4rem 9.9rem;
    display: grid;
    gap: 3.9rem;
  }

  .copywrite {
    display: flex;
    flex-direction: column;
    gap: 1.7rem;
    align-items: center;
    text-align: center;

    &__heading {
      font-weight: 700;
      font-size: 4rem;
      line-height: 3.2rem;
      letter-spacing: -0.14rem;
      color: var(--veryDarkMagenta);
    }

    &__subheading {
      font-weight: 500;
      font-size: 1.9rem;
      line-height: 2.5rem;
      letter-spacing: -0.06rem;
      color: var(--darkGrayishMagenta);
    }
  }

  .ratings {
    display: flex;
    flex-direction: column;
    gap: 1.6rem;
  }

  .rating {
    background-color: var(--lightGrayishMagenta);
    border-radius: 0.8rem;
    padding-block: 1.6rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 1.5rem;

    &__stars {
      display: flex;
      gap: 0.85rem;
    }

    &__description {
      font-weight: 700;
      font-size: 1.7rem;
      line-height: 1.56rem;
      color: var(--veryDarkMagenta);
    }
  }

  .testimonials {
    margin-top: 1rem;
    display: grid;
    gap: 1.6rem;
  }

  .testimonial {
    background-color: var(--veryDarkMagenta);
    border-radius: 0.8rem;
    padding: 4rem 3.2rem 3.5rem;
    display: flex;
    flex-direction: column;
    gap: 2.3rem;

    &__header {
      display: flex;
      gap: 2.3rem;
    }

    &__avatar {
      aspect-ratio: 1 / 1;
      width: 4rem;
      border-radius: 50%;
    }

    &__user {
      display: grid;
      place-items: center;
      gap: 0.7rem;
    }

    &__name {
      font-weight: 700;
      font-size: 1.7rem;
      line-height: 1.56rem;
      color: var(--white);
    }

    &__title {
      font-size: 1.7rem;
      line-height: 1.56rem;
      color: var(--softPink);
    }

    &__description {
      font-weight: 500;
      font-size: 1.7rem;
      line-height: 2.2rem;
      letter-spacing: -0.03rem;
      color: var(--white);
    }
  }
</style>

<Layout title="Social Proof Section" component>
  <h1>Social Proof Section</h1>
  <main>
    <section class="copywrite">
      <h2 class="copywrite__heading">
        10,000+ of our users love our products.
      </h2>
      <p class="copywrite__subheading">
        We only provide great products combined with excellent customer service.
        See what our satisfied customers are saying about our services.
      </p>
    </section>
    <article class="ratings">
      {
        ratings.map(({ description }) => (
          <div class="rating">
            <div class="rating__stars">
              <Image loading={null} alt="" src={star} />
              <Image loading={null} alt="" src={star} />
              <Image loading={null} alt="" src={star} />
              <Image loading={null} alt="" src={star} />
              <Image loading={null} alt="" src={star} />
            </div>
            <span class="rating__description">{description}</span>
          </div>
        ))
      }
    </article>
    <article class="testimonials">
      {
        testimonials.map(({ image, name, title, description }) => (
          <div class="testimonial">
            <div class="testimonial__header">
              <Image
                loading={null}
                alt=""
                src={image}
                class="testimonial__avatar"
              />
              <div class="testimonial__user">
                <h3 class="testimonial__name">{name}</h3>
                <h4 class="testimonial__title">{title}</h4>
              </div>
            </div>
            <p class="testimonial__description">{description}</p>
          </div>
        ))
      }
    </article>
  </main>
  <Footer font="var(--baseFont)" color="var(--veryDarkMagenta)" />
</Layout>
